{"version":3,"file":"js/255.faedf412.js","mappings":"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","sources":["webpack://swagger-mgr/./src/views/SwaggerConfig.vue","webpack://swagger-mgr/src/views/SwaggerConfig.vue","webpack://swagger-mgr/./src/views/SwaggerConfig.vue?e6d3","webpack://swagger-mgr/./src/views/SwaggerConfig.vue?aa09"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"swagger-config-page\"},[_c('div',{staticClass:\"btns\"},[_c('Button',{on:{\"click\":_vm.toggleAddModal}},[_vm._v(\"添加Swagger配置\")]),_c('Button',{staticClass:\"primary\",on:{\"click\":function($event){_vm.configModalVisible=true}}},[_vm._v(\"编辑配置\")])],1),_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":this.swaggerConfig}}),_c('Modal',{attrs:{\"title\":\"swagger配置\"},on:{\"on-ok\":_vm.onUpdateSwaggerConfig},model:{value:(_vm.configModalVisible),callback:function ($$v) {_vm.configModalVisible=$$v},expression:\"configModalVisible\"}},[_c('div',{staticClass:\"tip\"},[_vm._v(\"swagger配置必须是有效的数组json字符串,包含apiUrl,swaggerWebsite,name三个字段且不能为空\")]),_c('Input',{attrs:{\"autosize\":{ maxRows:10 },\"type\":\"textarea\",\"placeholder\":\"\"},model:{value:(_vm.swaggerJson),callback:function ($$v) {_vm.swaggerJson=$$v},expression:\"swaggerJson\"}})],1),_c('Modal',{attrs:{\"title\":\"添加swagger配置\"},on:{\"on-cancel\":_vm.onModalCancel,\"on-ok\":_vm.onSave},model:{value:(_vm.showAddModal),callback:function ($$v) {_vm.showAddModal=$$v},expression:\"showAddModal\"}},[_c('Form',{ref:\"addForm\",attrs:{\"autocomplete\":\"off\",\"model\":_vm.addForm,\"label-width\":120}},[_c('FormItem',{attrs:{\"label\":\"swagger地址\",\"prop\":\"swaggerWebsite\"}},[_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.addForm.swaggerWebsite),callback:function ($$v) {_vm.$set(_vm.addForm, \"swaggerWebsite\", $$v)},expression:\"addForm.swaggerWebsite\"}})],1),_c('FormItem',{attrs:{\"label\":\"api地址\",\"prop\":\"apiUrl\"}},[_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.addForm.apiUrl),callback:function ($$v) {_vm.$set(_vm.addForm, \"apiUrl\", $$v)},expression:\"addForm.apiUrl\"}})],1),_c('FormItem',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", $$v)},expression:\"addForm.name\"}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"swagger-config-page\">\n    <div class=\"btns\">\n      <Button @click=\"toggleAddModal\">添加Swagger配置</Button>\n      <Button class=\"primary\" @click=\"configModalVisible=true\">编辑配置</Button>\n    </div>\n    <Table :columns=\"columns\" :data=\"this.swaggerConfig\"></Table>\n    <Modal @on-ok=\"onUpdateSwaggerConfig\" v-model=\"configModalVisible\" title=\"swagger配置\">\n      <div class=\"tip\">swagger配置必须是有效的数组json字符串,包含apiUrl,swaggerWebsite,name三个字段且不能为空</div>\n      <Input v-model=\"swaggerJson\" :autosize=\"{ maxRows:10 }\" type=\"textarea\" placeholder />\n    </Modal>\n    <Modal v-model=\"showAddModal\" title=\"添加swagger配置\" @on-cancel=\"onModalCancel\" @on-ok=\"onSave\">\n      <Form ref=\"addForm\" autocomplete=\"off\" :model=\"addForm\" :label-width=\"120\">\n        <FormItem label=\"swagger地址\" prop=\"swaggerWebsite\">\n          <Input type=\"text\" v-model=\"addForm.swaggerWebsite\" />\n        </FormItem>\n        <FormItem label=\"api地址\" prop=\"apiUrl\">\n          <Input type=\"text\" v-model=\"addForm.apiUrl\" />\n        </FormItem>\n        <FormItem label=\"名称\" prop=\"name\">\n          <Input type=\"text\" v-model=\"addForm.name\" />\n        </FormItem>\n      </Form>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\nexport default {\n  name: '',\n  data () {\n    return {\n      showAddModal: false,\n      addForm: {},\n      editFormIndex: '',\n      columns: [\n        {\n          title: '名称',\n          key: 'name'\n        },\n        {\n          title: '地址',\n          key: 'swaggerWebsite',\n          render: (h, { row: { swaggerWebsite } }) => {\n            return h(\n              'a',\n              {\n                domProps: {\n                  href: swaggerWebsite,\n                  target: '_blank'\n                }\n              },\n              swaggerWebsite\n            )\n          }\n        },\n        {\n          title: 'apidocs json',\n          key: 'apiUrl',\n          render: (h, { row: { apiUrl } }) => {\n            return h(\n              'a',\n              {\n                domProps: {\n                  href: apiUrl,\n                  target: '_blank'\n                }\n              },\n              apiUrl\n            )\n          }\n        },\n        {\n          title: '操作',\n          width: 150,\n          align: 'center',\n          render: (h, params) => {\n            return h('div', [\n              h('Button',\n                {\n                  props: {\n                    type: 'error',\n                    size: 'small'\n                  },\n                  on: {\n                    click: () => {\n                      this.deleteSwaggerConfig(params.index)\n                    }\n                  }\n                },\n                '删除'),\n              h('Button',\n                {\n                  props: {\n                    type: 'primary',\n                    size: 'small'\n                  },\n                  style: {\n                    'margin-left': '10px'\n                  },\n                  on: {\n                    click: () => {\n                      this.addForm = { ...params.row }\n                      this.editFormIndex = params.index\n                      this.showAddModal = true\n                    }\n                  }\n                },\n                '编辑')\n            ])\n          }\n        }\n      ],\n      swaggerJson: '',\n      configModalVisible: false\n    }\n  },\n  created () {},\n  computed: {\n    ...mapState({\n      swaggerConfig: state => state.app.swaggerConfig\n    })\n  },\n  methods: {\n    ...mapMutations('app', ['deleteSwaggerConfig', 'updateSwaggerConfig']),\n    onUpdateSwaggerConfig () {\n      if (this.swaggerJson) {\n        try {\n          const config = JSON.parse(this.swaggerJson)\n          if (!Array.isArray(config)) {\n            this.$message.error('配置不是有效的数组Json字符串')\n            return\n          }\n          let isConfigOk = true\n          config.forEach(conf => {\n            if (!(conf.swaggerWebsite && conf.apiUrl && conf.name)) {\n              isConfigOk = false\n            }\n          })\n          if (!isConfigOk) {\n            this.$message.error('请检查配置设置是否完整')\n            return\n          }\n          this.updateSwaggerConfig(config)\n          this.$message.success('配置更新成功')\n        } catch (e) {\n          this.$message.error('请检查配置是否是有效的Json字符串')\n        }\n      } else {\n        this.$message.error('请输入swagger配置')\n      }\n    },\n    toggleAddModal () {\n      this.addForm = {}\n      this.showAddModal = !this.showAddModal\n    },\n    ...mapMutations('app', ['addSwaggerConfig', 'updateSingleSwaggerConfig']),\n    onSave () {\n      if (this.editFormIndex) {\n        this.updateSingleSwaggerConfig({\n          data: this.addForm,\n          index: this.editFormIndex\n        })\n      } else {\n        this.addSwaggerConfig(this.addForm)\n        this.showAddModal = false\n        this.addForm = {}\n      }\n      this.editFormIndex = ''\n    },\n    onModalCancel () {\n      this.editFormIndex = ''\n    }\n  },\n  watch: {\n    configModalVisible (val) {\n      if (val) {\n        this.swaggerJson = JSON.stringify(this.swaggerConfig)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.swagger-config-page {\n  overflow: auto;\n  .btns {\n    text-align: right;\n    padding: 20px 0px;\n    button{\n      margin-left: 20px;\n    }\n  }\n}\n.tip {\n  line-height: 20px;\n  color:red;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SwaggerConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SwaggerConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SwaggerConfig.vue?vue&type=template&id=224b42e9&scoped=true&\"\nimport script from \"./SwaggerConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./SwaggerConfig.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SwaggerConfig.vue?vue&type=style&index=0&id=224b42e9&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"224b42e9\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","toggleAddModal","_v","$event","configModalVisible","attrs","columns","swaggerConfig","onUpdateSwaggerConfig","model","value","callback","$$v","expression","maxRows","swaggerJson","onModalCancel","onSave","showAddModal","ref","addForm","swaggerWebsite","$set","apiUrl","name","staticRenderFns","data","editFormIndex","title","key","row","domProps","href","target","width","align","h","props","type","size","click","style","created","computed","methods","config","isConfigOk","index","watch","component"],"sourceRoot":""}